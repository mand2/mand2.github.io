---
title: "[AWS] amazon linux 및 puTTY, tomcat & mySQL 설치"
categories: aws
date: 2019-08-22 20:02:00
---

<br>

# 1. AWS 인스턴스 시작(install)

본인이 원하는 AMI 선택 후, 생성

SSH 설정:   
![SSH 설정](https://mand2.github.io/assets/images/aws-1/aws-1.JPG) 

과금설정 확인:   
![SSH 설정](https://mand2.github.io/assets/images/aws-1/aws-2.JPG) 
![SSH 설정](https://mand2.github.io/assets/images/aws-1/aws-3.JPG) 

<br>

# 2. key-pair 생성
    (내가 원하는 장소에 해당 파일을 저장, key pair가 없으면 안됨,,) + region이 변경되면 keypair따로 생성해줘야 함.  
>확장명 `.pem` 임.
>AWS에서는 퍼블릭 키 암호화를 사용하여 인스턴스에 대한 로그인 정보를 보호.  
>인스턴스를 시작할 때 키 페어의 이름을 지정한 다음 프라이빗 키를 제공하여 SSH를 사용하여 로그인할 때 키 페어를 아직 생성하지 않은 경우 Amazon EC2 콘솔을 사용하여 생성할 수 있다.  
>키 파일은 처음에만 저장가능 즉, 파일이 없으면 사용 XXX

<br>

# 3. AMI 설정  
   EC2 메인페이지에서 `인스턴스 생성` 버튼 클릭  
   linux 서버를 만들고 싶어서 linux 관련 선택, 인스턴스 유형 선택



<br>


# 4. 인바운드 규칙 설정

보안그룹 클릭

![보안 설정](https://mand2.github.io/assets/images/aws-1/aws-4.JPG) 


인바운드 탭 >  편집 탭 에서 원하는 규칙 설정 후 저장

![보안 설정](https://mand2.github.io/assets/images/aws-1/aws-4-2.JPG) 

<br><br><br>

# puTTY 다운로드

[puTTY 다운로드](https://www.chiark.greenend.org.uk/~sgtatham/putty/)  pem 파일(private key)과 같은 이름의 파일을 ppk로 저장
![puTTY 다운](https://mand2.github.io/assets/images/aws-1/aws-5.JPG) 
  <br>  <br>

![puTTY 설정](https://mand2.github.io/assets/images/aws-1/aws-6.JPG) 

![puTTY 설정](https://mand2.github.io/assets/images/aws-1/aws-7.JPG) 

![puTTY 설정](https://mand2.github.io/assets/images/aws-1/aws-8.JPG) 

  <br>  <br>

### 참고: yum이 겹쳐서 돌 때 뜨는 오류

```
Another app is currently holding the yum lock; waiting for it to exit...
```

이렇게 뜬다면

```
# rm -rf/var/run/yum.pid
```

로 겹치는 yum을 킬하면 됨

<br><br>

# puTTY java 1.8.0 설치 명령어

```
$ sudo su - //루트
# java -version //자바버전 확인
# yum list java* //설치가능한 자바버전 리스트 출력
# yum install -y {자바버전} //원하는 자바 버전 인스톨

# yum remove java-1.7.0 //기존 설치된 1.7.0 버전 삭제
# java -version //버전 확인
```





<br><br>

# puTTY tomcat 설치

```
# yum list tomcat8* //tomcat8 로 시작하는 파일 중 설치가능한 파일 확인
# yum install -y tomcat8
# yum install -y tomcat8-admin-webapps
# yum install -y tomcat8-webapps
----------
# service tomcat8 //tomcat에서 실행가능한 명령어 보여줌 
# service tomcat8 version //버전확인

# service tomcat8 start //tomcat 시작
# service tomcat8 status //tomcat 현상태 확인
# service tomcat8 stop //tomcat 중지
```

시작이 되었으나, aws 사이트의 보안설정에서 

**인바운드 규칙 편집** -> 사용자지정 : TCP : 8080 : 위치무관 으로 저장

<br><br><br>

# puTTY mysql 설치

```
# yum list mysql57*
# yum install -y mysql57-server.x86_64
# mysql -V //version 확인
# service mysqld //service 명령어 확인
# mysqladmin -u root password : pw 넣기 // 루트계정인 admin pw 만들기
# mysql -u root -p {pw} // 루트 계정에 접속.
```

1. mysql에 Connections 추가  

   ![mysql Connection 추가](https://mand2.github.io/assets/images/aws-1/mysql.JPG)  

   > 커넥션 name 설정
   >
   > 커넥션 method **SSH**로 설정
   >
   > hostname :  aws IPv4 퍼블릭 IP 연결
   >
   > SSH username: ec2-user로 설정
   >
   > Key File : pem 키 연결
   >
   > password: puTTY에서 저장한 pw 쓰고
   >
   > Test Connection 체크
   >
   > 확인 후 OK 버튼!

   

2. schema 생성



<br>

puTTY에서 스키마 생성 확인

```mysql
show databases;
```







<br><br>